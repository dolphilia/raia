cmake_minimum_required(VERSION 3.26)
project(raia_alert)

if(${CMAKE_SYSTEM_NAME} STREQUAL "Darwin")
    message(STATUS "Configuring for macOS")
    add_compile_options(-O2 -x objective-c)
    find_library(COCOA_LIBRARY Cocoa)
    if(NOT COCOA_LIBRARY)
        message(FATAL_ERROR "Cocoa not found")
    endif()
    add_executable(raia_alert raia_alert.m)
    target_link_libraries(raia_alert ${COCOA_LIBRARY})
elseif(${CMAKE_SYSTEM_NAME} STREQUAL "Windows")
    message(STATUS "Configuring for Windows")
    set(CMAKE_C_STANDARD 11)
elseif(${CMAKE_SYSTEM_NAME} STREQUAL "Linux")
    message(STATUS "Configuring for Linux")
    set(CMAKE_C_STANDARD 11)
else()
    message(STATUS "Unknown platform")
endif()
